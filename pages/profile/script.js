"use strict";function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var i="https://academy.directlinedev.com",e=document.querySelector(".SignIn-popup_js"),t=document.querySelector(".mobile-SignIn-popup_js"),r=document.querySelector(".SignInOpen-popup_js"),o=document.querySelector(".mobile-SignInOpen-popup_js"),n=document.querySelector(".Register-popup_js"),s=document.querySelector(".mobile-Register-popup_js"),d=document.querySelector(".RegisterOpen-popup_js"),c=document.querySelector(".mobile-RegisterOpen-popup_js"),u=document.querySelector(".profile_js"),l=document.querySelector(".mobile-profile_js"),p=document.querySelector(".singout_js"),m=document.querySelector(".mobile-singout_js"),v=document.forms.register,f=document.forms.signIn,L=document.querySelector(".MessageOpen-popup_js"),_=(document.querySelector(".Messagegood-popup_js"),document.querySelector(".Messagebad-popup_js"),document.querySelector(".MessageButton_js")),h=(document.querySelector(".Emailsend_js"),document.querySelector(".MassageForm_js")),b=document.querySelector(".goodmessage_js"),g=document.querySelector(".badMessage_js"),E=document.querySelector(".registerCheck_js"),w=document.querySelector(".registerButton_js"),S=document.querySelector(".Buttonsend_js"),q=document.querySelector(".Checkboxsend_js"),k=document.querySelector("[data-id-page]").getAttribute("data-id-page"),j=document.querySelector("[data-id-nav=".concat(k,"]"));k==j.getAttribute("data-id-nav")&&j.classList.add("header__link_active");k=document.querySelector("[data-id-page]").getAttribute("data-id-page"),j=document.querySelector("[data-id-nav-mobile=".concat(k,"]"));k==j.getAttribute("data-id-nav-mobile")&&j.classList.add("mobile-header__link_active");var T=document.querySelector(".button-sing-in_js"),I=document.querySelector(".button-reg_js"),A=document.querySelector(".button-message_js");document.querySelector(".button-password_js");function M(){T.classList.remove("button_good"),T.classList.add("button_bad")}function O(){localStorage.getItem("token")?(e.classList.add("hidden"),t.classList.add("hidden"),n.classList.add("hidden"),s.classList.add("hidden"),u.classList.remove("hidden"),l.classList.remove("hidden"),p.classList.remove("hidden"),m.classList.remove("hidden")):(e.classList.remove("hidden"),t.classList.remove("hidden"),n.classList.remove("hidden"),s.classList.remove("hidden"),u.classList.add("hidden"),l.classList.add("hidden"),p.classList.add("hidden"),m.classList.add("hidden"))}var x,H,C,P,R,D,z=document.querySelector(".loaderinner_js");function B(){return'\n  <div class="loader-inner">\n  <div class="loader-inner__loader"></div>\n  </div>\n  '}e.addEventListener("click",function(){x=document.activeElement,r.classList.add("popup_open"),r.querySelector(".popup__input").focus();var e=r.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),r.classList.remove("popup_open"),x.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)}),t.addEventListener("click",function(){H=document.activeElement,o.classList.add("popup_open"),o.querySelector(".popup__input").focus();var e=o.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),o.classList.remove("popup_open"),H.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)}),P=!(C=[]),v.addEventListener("submit",function(e){if(e.preventDefault(),!P){P=!0;var t=F(e.target),e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};$(e.email)||(t.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")');e.password!=e.repeatPassword&&(t.password="The password and confirm password fields do not match.");e.password?e.password.length<8&&(t.password="The password is too short"):t.password="This field is required";e.name||(t.name="This field is required");e.surname?e.surname===e.name&&(t.surname="Surname identical to name"):t.surname="This field is required";e.location||(t.location="This field is required");+e.age<=0&&(t.age="Age is incorrect");return t}(t);if(C.forEach(function(e){return e()}),Object.keys(e).length)return I.classList.remove("button_good"),I.classList.add("button_bad"),G(v,e),void(P=!1);z.innerHTML=B(),K({method:"POST",url:"/api/users",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(W(v,t),!e.success)throw e;I.classList.remove("button_bad"),I.classList.add("button_good"),setTimeout(function(){z.innerHTML="",alert("Успешная регистрация"),d.classList.remove("popup_open")},1e3),P=!1})}}),s.addEventListener("click",function(){R=document.activeElement,c.classList.add("popup_open"),c.querySelector(".popup__input").focus();var e=c.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),c.classList.remove("popup_open"),R.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)}),n.addEventListener("click",function(){D=document.activeElement,d.classList.add("popup_open"),d.querySelector(".popup__input").focus();var e=d.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),d.classList.remove("popup_open"),D.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)});var J=document.querySelector(".mobile-header_js"),k=document.querySelector(".header__mobile-button_js"),j=document.querySelector(".mobile-header__close-button_js");k.addEventListener("click",function(){J.classList.add("mobile-header_open")}),j.addEventListener("click",function(){J.classList.remove("mobile-header_open")});var N,X,Y,k=document.querySelector(".singout_js"),j=document.querySelector(".mobile-singout_js");function $(e){return e.match(/^[0-9a-z-\.]+\@[0-9a-z-]{2,}\.[a-z]{2,}$/i)}function F(e,t,n){var o=1<arguments.length&&void 0!==t?t:{};if("json"!==(2<arguments.length&&void 0!==n?n:"json"))return new FormData(e);var i,r=y(e.querySelectorAll("input"));try{for(r.s();!(i=r.n()).done;){var s=i.value;switch(s.type){case"radio":s.checked&&(o[s.name]=s.value);break;case"checkbox":o[s.name]||(o[s.name]=[]),s.checked&&o[s.name].push(s.value);break;case"file":o[s.name]=s.files;break;default:o[s.name]=s.value}}}catch(e){r.e(e)}finally{r.f()}return o}function G(e,t){var n=[],o=y(e.querySelectorAll("input"));try{for(o.s();!(i=o.n()).done;){var i,r=i.value;t[r.name]&&(i=function(e){function t(){e.removeEventListener("input",t),e.classList.remove("invalidInput")}return e.classList.add("invalidInput"),e.addEventListener("input",t),t}(r),r=function(n,e){function t(){o.remove(),n.removeEventListener("input",t)}n.classList.add("invalidInput");var o=document.createElement("div");if(o.classList.add("invalidMessage"),o.innerText=e,null==n.nextElementSibling)return n.insertAdjacentElement("afterend",o),n.addEventListener("input",function e(t){o.remove(),n.removeEventListener("input",e)}),n.addEventListener("input",t),t}(r,t[r.name]),n.push(i,r))}}catch(e){o.e(e)}finally{o.f()}return n}function U(e){function t(){i.remove(),e.removeEventListener("input",t)}e.classList.add("validInput");var n,o,i=document.createElement("div");return i.classList.add("valid-feedback"),n=e,(o=document.createElement("div")).classList.add("valid-feedback"),o.innerText="All right",null==n.nextElementSibling&&(n.insertAdjacentElement("afterend",o),n.addEventListener("input",function e(t){o.remove(),n.removeEventListener("input",e)})),e.insertAdjacentElement("afterend",i),e.addEventListener("input",t),t}function W(e,t){var n=[],o=y(e.querySelectorAll("input"));try{for(o.s();!(i=o.n()).done;){var i,r=i.value;t[r.name]&&(i=function(e){function t(){e.removeEventListener("input",t),e.classList.remove("validInput")}return e.classList.add("validInput"),e.addEventListener("input",t),t}(r),r=U(r,t[r.name]),n.push(i,r))}}catch(e){o.e(e)}finally{o.f()}return n}function K(e){var t=e.method,n=void 0===t?"GET":t,o=e.url,t=void 0===o?"":o,o=e.body,o=void 0===o?null:o,e=e.headers;return fetch(i+t,{method:n,body:o,headers:void 0===e?{}:e})}function Q(e,t){e.checked?(t.removeAttribute("disabled"),t.classList.remove("button_disabled")):(t.classList.add("button_disabled"),t.setAttribute("disabled","disabled"))}k.addEventListener("click",function(){localStorage.removeItem("token"),window.location.pathname="/index.html"}),j.addEventListener("click",function(){localStorage.removeItem("token"),window.location.pathname="/index.html"}),N=!1,X=[],f.addEventListener("submit",function(e){if(e.preventDefault(),!N){N=!0;var n=F(f),o=function(e,t){return t=1<arguments.length&&void 0!==t?t:{},$(e.email)||(t.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")'),e.password?e.password.length<8&&(t.password="The password is too short"):t.password="This field is required",t}(n);if(X.forEach(function(e){return e()}),Object.keys(o).length)return M(),o.email="This combination, mail and password were not found!",G(f,o),isLoadingRegister=!1,void(N=!1);z.innerHTML=B(),K({method:"POST",url:"/api/users/login",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(T.classList.remove("button_bad"),T.classList.add("button_good"),!t.success)throw o;W(f,n),z.innerHTML="",setTimeout(function(){var e;alert("Пользователь успешно вошел, ID:\n"+t.data.userId),e=t.data,localStorage.setItem("token",e.token),localStorage.setItem("userId",e.userId),O(),r.classList.remove("popup_open"),isLoadingRegister=N=!1},1e3)}).catch(function(e){z.innerHTML="",M(),e.email="This combination, mail and password were not found!",X=G(f,e),isLoadingRegister=!1,N=!1})}}),O(),E.addEventListener("click",function(){Q(E,w)}),q.addEventListener("click",function(){Q(q,S)}),_.addEventListener("click",function(){Y=document.activeElement,L.classList.add("popup_open"),L.querySelector(".popup__input").focus();var e=L.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),L.classList.remove("popup_open"),Y.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)});(function(e){var n=(e=document.querySelector(e)).querySelector(".slider__wrapper"),o=e.querySelector(".slider__inner-wrapper"),i=e.querySelector(".slider__pagination"),r=e.querySelector(".slider__button_back"),s=e.querySelector(".slider__button_next"),a=e.querySelectorAll(".slider_slide"),d=0,c=o.childElementCount-1,u=null,l=+localStorage.getItem("activeSlide")||0,p=[];function t(){d=n.offsetWidth;var e,t=y(a);try{for(t.s();!(e=t.n()).done;)e.value.style.width="".concat(d,"px")}catch(e){t.e(e)}finally{t.f()}}function m(e,t){1<arguments.length&&void 0!==t&&t?e.removeAttribute("disabled"):e.setAttribute("disabled","")}function v(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e<0||c<e||(clearTimeout(u),t&&(o.style.transition="transform 500ms",u=setTimeout(function(){o.style.transition=""},500)),m(s,!0),m(r,!0),0===e&&m(r),e===c&&m(s),o.style.transform="translateX(".concat(e*d*-1,"px)"),p[l].classList.remove("slider__dot_active"),p[l=e].classList.add("slider__dot_active"),localStorage.setItem("activeSlide",l))}!function(){for(var e=0;e<c+1;e++)!function(e){var t=document.createElement("button");t.classList.add("slider__dot"),e===l&&t.classList.add("slider__dot_active"),p.push(t),t.addEventListener("click",function(){v(e)}),i.insertAdjacentElement("beforeend",t)}(e)}(),m(r),t(),s.addEventListener("click",function(){v(l+1)}),r.addEventListener("click",function(){v(l-1)}),window.addEventListener("resize",function(){t(),v(l,!1)});var f=!1,L=0,_=0;n.addEventListener("touchstart",function(e){f||(f=!0,L=e.touches[0].pageX)}),n.addEventListener("touchmove",function(e){f&&(_=e.touches[0].pageX)}),n.addEventListener("touchend",function(e){f&&(f=!1,Math.abs(L-_)<50||(L-_<0&&v(l-1),0<L-_&&v(l+1)))}),v(l,!1)})(".slider"),new Swiper(".swiper-container",{direction:"horizontal",loop:!0,navigation:{color:"#000",nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var V,Z,ee,te={html:85,css:55,js:5,git:15,figma:80};document.addEventListener("DOMContentLoaded",function(){for(var e in te){var t=te[e]/100*100,t="".concat(+Math.round(t),"%");document.querySelector(".".concat(e," .skills__level-inner")).style.width=t,document.querySelector(".".concat(e," .skills__value")).innerHTML=te[e]}}),h.addEventListener("submit",function(e){!function(t){t.preventDefault();var n=F(t.target),e=function(e,t){return t=1<arguments.length&&void 0!==t?t:{},$(e.email)||(t.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")'),e.phone.match(/^(\s*)?(\+)?([-_():=+]?\d[- _():=+]?){10,14}(\s*)?$/)||(t.phone="This field is required"),e.name||(t.name="This field is required"),e.messageSubject||(t.messageSubject="This field is required"),t}(n);if([].forEach(function(e){return e()}),Object.keys(e).length)return A.classList.remove("button_good"),A.classList.add("button_bad"),G(t.target,e);(e={}).body=JSON.stringify(n),e.to="111@asdas.com",z.innerHTML=B(),fetch(i+"/api/emails",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(e){return e.json()}).then(function(e){W(t.target,n),A.classList.remove("button_bad"),A.classList.add("button_good"),e.success&&(z.innerHTML=""),setTimeout(function(){z.innerHTML="",L.classList.remove("popup_open"),b.classList.add("popup_open")},1e3)}).catch(function(e){z.innerHTML="",L.classList.remove("popup_open"),g.classList.add("popup_open")})}(e)}),_.addEventListener("click",function(){V=document.activeElement;var e=b.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),b.classList.remove("popup_open"),V.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)}),_.addEventListener("click",function(){Z=document.activeElement;var e=g.querySelector(".popup__close");function t(e){"Escape"===e.code&&n()}function n(){e.removeEventListener("click",n),window.removeEventListener("keydown",t),g.classList.remove("popup_open"),Z.focus()}e.addEventListener("click",n),window.addEventListener("keydown",t)}),ee=document.querySelector(".scroll_js"),window.addEventListener("scroll",function(){var e=window.pageYOffset;e<1500&&ee.classList.add("scroll_hidden"),1500<e&&ee.classList.remove("scroll_hidden")}),ee.addEventListener("click",function e(){var t=window.pageYOffset/50;0<window.pageYOffset&&(window.scrollBy(0,-t),setTimeout(e,0))});